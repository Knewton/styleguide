<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title>Knewton Style Guide</title>

    <link rel="stylesheet" href="styles/css/styleguide.css" />
    <link rel="stylesheet" href="styles/css/application.css" />
</head>
<body>

    <div class="content"></div>

    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
    <script src="../bower_components/dustjs-linkedin/dist/dust-core.js"></script>
    <script src="js/templates.js"></script>
    <script>

        function generateNav() {
            var sections = $('.sg-section'),
                $nav = $('.sg-nav ul');

            sections.each(function(i) {
                var $s = $(sections[i]),
                    title = $s.attr('title'),
                    id = $s.attr('id');

                var liHtml = '<li><a href="#' + id + '">' + title + '</a></li>';
                $nav.append(liHtml);
            });
        };

        dust.render("_local/styleguide", {}, function(err, out) {
            if (err) {
                console.error(err);
            } else {
                $('.content').html(out);

                generateNav();
            }
        });
    </script>
</body>
</html>
